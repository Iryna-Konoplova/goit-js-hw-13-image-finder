{"version":3,"sources":["apiService.js","index.js"],"names":["NewsApiService","constructor","searchQuery","page","fetchArticles","url","fetch","then","r","json","data","resetPage","query","newQuery","refs","searchForm","document","querySelector","galleryContainer","loadMoreBtn","newsApiService","onSearch","e","preventDefault","currentTarget","elements","value","onLoadMore","addEventListener"],"mappings":";AAAoC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAArB,MAAMA,EACjBC,cACSC,KAAAA,YAAc,GACdC,KAAAA,KAAO,EAGhBC,gBAOEC,MAAAA,wEAA4E,KAAKH,oBAAoB,KAAKC,0DAEhHG,MAAMD,GACDE,KAAKC,GAAKA,EAAEC,QACZF,KAAKG,IACGP,KAAAA,MAAQ,IAIjBQ,YACSR,KAAAA,KAAO,EAGZS,YACO,OAAA,KAAKV,YAGZU,UAAMC,GACDX,KAAAA,YAAcW,GA/BS,QAAA,QAAA;;;;AC2BnC,aA3BD,IAAA,EAAA,EAAA,QAAA,iBA2BC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAzBD,QAAA,oBAEA,MAAMC,EAAO,CACTC,WAAYC,SAASC,cAAc,gBACnCC,iBAAkBF,SAASC,cAAc,YACzCE,YAAaH,SAASC,cAAc,mBAGlCG,EAAiB,IAAIpB,EAAJ,QAKvB,SAASqB,EAASC,GACdA,EAAEC,iBAEFH,EAAeR,MAAQU,EAAEE,cAAcC,SAASb,MAAMc,MACtDN,EAAeT,YACfS,EAAehB,gBAKnB,SAASuB,IACLP,EAAehB,gBAdnBU,EAAKC,WAAWa,iBAAiB,SAAUP,GAC3CP,EAAKK,YAAYS,iBAAiB,QAASD","file":"src.b25fad3e.js","sourceRoot":"../src","sourcesContent":["export default class NewsApiService {\n    constructor() {\n        this.searchQuery = '';\n        this.page = 1;\n    }\n    \n    fetchArticles() {\n//     const options = {\n//     headers: {\n//         Authorization: '21824668-10aeb8c8af54ec25684dd6884',\n//     },\n// };\n\nconst url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.searchQuery}&page=${this.page}&per_page=12&key=21824668-10aeb8c8af54ec25684dd6884`\n\nfetch(url)\n    .then(r => r.json())\n    .then(data => {\n        this.page += 1;\n    })\n    }\n\n    resetPage() {\n        this.page = 1;\n    }\n    \n    get query() {\n        return this.searchQuery;\n    }\n\n    set query(newQuery) {\n        this.searchQuery = newQuery;\n    }\n    \n}","import NewsApiService from './apiService';\n\nimport './sass/main.scss';\n\nconst refs = {\n    searchForm: document.querySelector('.search-form'),\n    galleryContainer: document.querySelector('.gallery'),\n    loadMoreBtn: document.querySelector('.btn-load-more')\n}\n\nconst newsApiService = new NewsApiService();\n\nrefs.searchForm.addEventListener('submit', onSearch)\nrefs.loadMoreBtn.addEventListener('click', onLoadMore)\n\nfunction onSearch(e) {\n    e.preventDefault();\n\n    newsApiService.query = e.currentTarget.elements.query.value;\n    newsApiService.resetPage();\n    newsApiService.fetchArticles();\n    \n}\n\n\nfunction onLoadMore() {\n    newsApiService.fetchArticles();\n}\n"]}